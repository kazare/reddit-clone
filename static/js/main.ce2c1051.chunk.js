(this["webpackJsonpreddit-clone"]=this["webpackJsonpreddit-clone"]||[]).push([[0],{10:function(e,t,c){"use strict";(function(e){var n=c(4),r=c.n(n),a=c(6),s=c(3),o=c(0),i=c(2),l=(c(27),c(11)),d=c(12);t.a=function(){var t=Object(i.useState)(""),c=Object(s.a)(t,2),n=c[0],u=c[1],j=Object(i.useState)([]),h=Object(s.a)(j,2),b=h[0],m=h[1],f=Object(i.useState)(!1),O=Object(s.a)(f,2),p=O[0],x=O[1],v=Object(i.useState)("hot"),w=Object(s.a)(v,2),_=w[0],N=w[1],g=Object(i.useState)("Loading . . ."),k=Object(s.a)(g,2),S=k[0],T=(k[1],"".concat("r/Parenting","/").concat(_,"/"),"".concat(_)),y=new URLSearchParams;y.append("grant_type","https://oauth.reddit.com/grants/installed_client"),y.append("device_id","DO_NOT_TRACK_THIS_DEVICE");var C=function(){var t=Object(a.a)(r.a.mark((function t(){var c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://www.reddit.com/api/v1/access_token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic ".concat(e.from("".concat("NGTZ16GSvvWvcw",":")).toString("base64"))},body:y}).then((function(e){return e.json()})).then((function(e){c=e.access_token,console.log("First token: "+c),u(c)})).catch((function(e){return console.log("Error: ",e)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(i.useEffect)((function(){""===n&&(console.log("The website is loaded"),C())}));var E=function(){var e=Object(a.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://oauth.reddit.com/".concat(T),{method:"GET",headers:{Authorization:"bearer ".concat(t),"User-Agent":"windows:com:v1 (by Kazare)"}}).then((function(e){return e.json()})).then((function(e){m(e.data.children),x(!0),console.log(e)})).catch((function(e){return console.log("ERROR: ",e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){console.log("This is the current token: "+n),E(n)}),[n,_]);var L=function(e){e.preventDefault(),console.log("Button: "+e.target.value),N(e.target.value)};return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)("div",{className:"searchBar",children:Object(o.jsx)("h1",{className:"title",children:"readit"})}),Object(o.jsxs)("div",{className:"container",children:[Object(o.jsxs)("div",{className:"filters",children:[Object(o.jsx)("button",{value:"hot",onClick:L,children:"HOT"}),Object(o.jsx)("button",{value:"new",onClick:L,children:"NEW"}),Object(o.jsx)("button",{value:"top",onClick:L,children:"TOP"})]}),Object(o.jsx)("div",{className:"cardContainer",children:p?b.map((function(e,t){var c=e.data;return Object(o.jsx)(d.a,{data:c,subreddit:c.subreddit_name_prefixed,author:c.author,title:c.title,selftext:c.selftext_html,score:c.score,permalink:c.permalink,comments:c.num_comments,flair:c.link_flair_text,flair_color:c.link_flair_background_color,flair_text_color:c.link_flair_text_color,time:c.created_utc,awards:c.all_awardings,url:c.url,video:c.media,postType:c.post_hint},c.id)})):Object(o.jsx)(l.a,{message:S})})]})]})}}).call(this,c(22).Buffer)},11:function(e,t,c){"use strict";var n=c(0);t.a=function(e){var t=e.message;return Object(n.jsx)("div",{className:"infoBox",children:t})}},12:function(e,t,c){"use strict";var n=c(0),r=(c(28),c(34));t.a=function(e){e.data;var t,c=e.subreddit,a=e.author,s=e.title,o=e.selftext,i=e.score,l=e.permalink,d=e.comments,u=e.flair,j=e.flair_color,h=e.flair_text_color,b=e.time,m=e.awards,f=e.url,O=e.video,p=e.postType,x=1e3*b,v=function(e){var t=document.createElement("div");return t.innerHTML=e,0===t.childNodes.length?"":t.childNodes[0].nodeValue};return Object(n.jsx)("a",{className:"cardLink",href:"https://www.reddit.com".concat(l),target:"_blank",rel:"noreferrer",children:Object(n.jsxs)("div",{className:"card",children:[Object(n.jsxs)("div",{className:"postScore",children:[Object(n.jsx)("div",{children:Object(n.jsx)("ion-icon",{name:"caret-up"})}),Object(n.jsx)("div",{children:(t=i,t>1e3?Math.round(t/1e3).toString()+"k":t.toString())}),Object(n.jsx)("div",{children:Object(n.jsx)("ion-icon",{name:"caret-down"})})]}),Object(n.jsxs)("div",{className:"postContent",children:[Object(n.jsxs)("div",{className:"postInfo",children:[Object(n.jsx)("div",{className:"subName",children:Object(n.jsx)("a",{href:"https://www.reddit.com/".concat(c),children:c})}),Object(n.jsx)("span",{className:"seperator",children:"\u2027"}),Object(n.jsxs)("div",{className:"user",children:["Posted by ",Object(n.jsxs)("a",{href:"https://www.reddit.com/user/".concat(a),children:["u/",a]})]}),Object(n.jsx)("span",{className:"seperator",children:"\u2027"}),Object(n.jsx)("div",{className:"postTime",children:Object(n.jsx)("a",{href:"https://www.reddit.com".concat(l),target:"_blank",rel:"noreferrer",children:Object(n.jsx)(r.a,{date:x,locale:"en-US"})})})]}),Object(n.jsx)("div",{className:"awards",children:m.map((function(e,t){return Object(n.jsxs)("span",{className:"award",children:[Object(n.jsx)("img",{src:e.icon_url,alt:e.name})," x",e.count]})}))}),Object(n.jsxs)("div",{className:"titleRow",children:[Object(n.jsx)("h3",{className:"postTitle",children:s}),u?Object(n.jsx)("div",{className:"".concat(h," flairLabel"),style:{backgroundColor:j},dangerouslySetInnerHTML:{__html:u}}):null]}),Object(n.jsx)("div",{className:"selftext",dangerouslySetInnerHTML:{__html:v(o)}}),Object(n.jsx)("div",{className:"postBody",children:function(e){switch(e){case"link":return Object(n.jsx)("a",{className:"postLink",href:f,children:f});case"hosted:video":return Object(n.jsx)("video",{className:"postVideo",controls:!0,src:O.reddit_video.fallback_url,children:Object(n.jsx)("p",{children:"Sorry, your browser doesn't support embedded videos."})});case"image":return Object(n.jsx)("img",{className:"postImg",src:f,alt:""});case"rich:video":return Object(n.jsx)("div",{className:"postVideo",dangerouslySetInnerHTML:{__html:v(O.oembed.html)}})}}(p)}),Object(n.jsx)("a",{className:"postComments",href:"https://www.reddit.com".concat(l),target:"_blank",rel:"noreferrer",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("ion-icon",{name:"chatbox"}),Object(n.jsxs)("span",{children:[d," comments"]})]})})]})]})})}},14:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c(2),a=c.n(r),s=c(9),o=c.n(s),i=(c(21),c(10)),l=c(33),d=c(13);l.a.addDefaultLocale(d),o.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(i.a,{})}),document.getElementById("root"))},21:function(e,t,c){},27:function(e,t,c){},28:function(e,t,c){}},[[14,1,2]]]);
//# sourceMappingURL=main.ce2c1051.chunk.js.map